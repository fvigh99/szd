<div class="pl-2 pb-3">
  <h1>Teljesítmények</h1>
</div>

<div class="pl-2 pb-3">
  <span> Ezen az oldalon tekintheti meg a teljesítményeket! </span>
</div>

<form #editMachineForm="ngForm">
  <p-dialog
    [(visible)]="editAchievementDialog"
    [style]="{ width: '450px' }"
    [header]="
      loggedInUser && loggedInUser?.role === 'ADMIN'
        ? 'Kitűző módosítása'
        : 'Kitűző megtekintése'
    "
    [modal]="true"
    styleClass="p-fluid"
  >
    <ng-template pTemplate="content">
      <div class="field">
        <label for="name">Megnevezés</label>
        <input
          type="text"
          pInputText
          id="name"
          name="name"
          [(ngModel)]="editedAchievement.name"
          required
          [autofocus]="loggedInUser && loggedInUser?.role === 'ADMIN'"
          [disabled]="!loggedInUser || loggedInUser?.role !== 'ADMIN'"
        />
      </div>
      <div class="field">
        <label for="summary">Leírás</label>
        <textarea
          id="summary"
          name="summary"
          pInputTextarea
          [(ngModel)]="editedAchievement.summary"
          required
          rows="3"
          cols="20"
          [disabled]="!loggedInUser || loggedInUser?.role !== 'ADMIN'"
        ></textarea>
      </div>
      <div class="field">
        <label for="type">Típus</label>
        <p-dropdown
          *ngIf="loggedInUser && loggedInUser?.role === 'ADMIN'"
          [options]="achievementTypeList"
          [(ngModel)]="editedAchievement.type"
          name="type"
          [required]="true"
        >
        </p-dropdown>
      </div>
      <div class="field">
        <label for="eventCount">Edzések száma</label>
        <p-inputNumber
          [(ngModel)]="editedAchievement.eventCount"
          inputId="integeronly"
          name="eventCount"
        />
      </div>
      <div class="field">
        <label for="machine">Használt gép</label>
        <p-dropdown
          *ngIf="loggedInUser && loggedInUser?.role === 'ADMIN'"
          [options]="machineList"
          [(ngModel)]="editedAchievement.machine"
          name="machine"
        >
        </p-dropdown>
      </div>
      <div class="field">
        <label for="weight">Súly (kg)</label>
        <p-inputNumber
          [(ngModel)]="editedAchievement.eventCount"
          inputId="integeronly"
          name="weight"
        />
      </div>
      <div class="field">
        <label for="repetitionCount">Ismétlések száma</label>
        <p-inputNumber
          [(ngModel)]="editedAchievement.repetitionCount"
          inputId="integeronly"
          name="repetitionCount"
        />
      </div>
      <div class="field">
        <label for="intensity">Intenzitás (1-10)</label>
        <p-inputNumber
          [(ngModel)]="editedAchievement.intensity"
          inputId="integeronly"
          name="intensity"
          [min]="1"
          [max]="10"
        />
      </div>
      <div class="field">
        <label for="duration">Időtartam (perc)</label>
        <p-inputNumber
          [(ngModel)]="editedAchievement.duration"
          inputId="integeronly"
          name="duration"
        />
      </div>
      <div class="field">
        <label for="typeOfGroupTraining">Csoportos edzés típusa</label>
        <p-dropdown
          *ngIf="loggedInUser && loggedInUser?.role === 'ADMIN'"
          [options]="groupTrainingTypeList"
          [(ngModel)]="editedAchievement.typeOfGroupTraining"
          name="typeOfGroupTraining"
        >
        </p-dropdown>
      </div>
    </ng-template>
    <ng-template pTemplate="footer">
      <button
        pButton
        pRipple
        label="Bezárás"
        icon="pi pi-times"
        class="p-button-text"
        (click)="hideEditedDialog()"
      ></button>
      <button
        *ngIf="loggedInUser && loggedInUser?.role === 'ADMIN'"
        pButton
        pRipple
        label="Mentés"
        icon="pi pi-check"
        class="p-button-text"
        [disabled]="!editMachineForm.valid"
        (click)="saveEditedAchievement()"
      ></button>
      <button
        *ngIf="loggedInUser && loggedInUser?.role === 'ADMIN'"
        pButton
        pRipple
        label="Törlés"
        icon="pi pi-trash"
        class="p-button-text"
        (click)="deleteAchievement()"
      ></button>
    </ng-template>
  </p-dialog>
</form>
<p-confirmDialog></p-confirmDialog>
