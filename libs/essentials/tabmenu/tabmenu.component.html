<form #form="ngForm">
  <p-menubar [model]="items">
    <ng-template pTemplate="item" let-item>
      <a
        class="p-menuitem-link flex justify-content-between align-items-center p-3"
      >
        <div>
          <span>{{ item.label }}</span>
        </div>
      </a>
    </ng-template>
    <ng-template pTemplate="end">
      <ng-container *ngIf="!loggedInUser?.username; else loggedIn">
        <button
          pButton
          class="btn btn-primary"
          (click)="navigateToLogin()"
          [disabled]="login"
        >
          Bejelentkezés
        </button>
      </ng-container>
      <ng-template #loggedIn>
        <span> Bejelentkezve, mint {{ loggedInUser?.username }} </span>
        <div>
          <button
            pButton
            pRipple
            (click)="logout()"
            [disabled]="loading"
            class="btn btn-primary"
          >
            <span
              *ngIf="loading"
              class="spinner-border spinner-border-sm me-1"
            ></span
            >Kijelentkezés
          </button>
        </div>
      </ng-template>
    </ng-template>
  </p-menubar>
</form>
<ng-container *ngIf="login">
  <fc-login
    (loginStatusChanged)="checkLoginStatus($event)"
    (loginOver)="loginOver()"
  ></fc-login>
</ng-container>

<p-toast></p-toast>
